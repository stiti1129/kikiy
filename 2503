#include <iostream>

using namespace std;

int arr[101][3];
int n;
int result = 0;
void go(int num)
{
	int kiki = num;
	int bit = 0;
	int ans[3];
	ans[2] = num % 10;
	num /= 10;
	ans[1] = num % 10;
	num /= 10;
	ans[0] = num;
	for (int i = 1; i <= n; i++)
	{
		int st = 0, ba = 0;
		int temp = arr[i][0];
		int qus[3];
		qus[2] = temp % 10;
		temp /= 10;
		qus[1] = temp % 10;
		temp /= 10;
		qus[0] = temp;
		for (int j = 0; j <= 2; j++)
		{
			for (int k = 0; k <= 2; k++)
			{
				if (ans[j] == qus[k])
				{
					if (j == k)
						st++;
					else
						ba++;
				}
			}
		}
		if (st != arr[i][1] || ba != arr[i][2])
		{
			bit = 1;
		}
	}
	if (bit == 0)result++;
}
int main()
{
	cin >> n;
	for (int i = 1; i <= n; i++)
		cin >> arr[i][0] >> arr[i][1] >> arr[i][2];
	for (int i = 1; i <= 9; i++)
	{
		for (int j = 1; j <= 9; j++)
		{
			if (i == j)continue;
			for (int k = 1; k <= 9; k++)
			{
				if (i == k)continue;
				if (j == k) continue;
				go(i * 100 + j * 10 + k);
			}
		}
	}
	cout << result << endl;
	return 0;
}
