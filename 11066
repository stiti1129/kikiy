#include <iostream>
#include <string.h>
using namespace std;
int arr[501];
int dp[501][501];
int k;
int T;
int sum[501];
int go(int i, int j)
{
	if (i == j)return 0;
	if (dp[i][j])return dp[i][j];
	int &ans = dp[i][j];
	ans = -1;
	for (int q = i; q < j; q++)
	{
		int temp = go(i, q) + go(q +1, j) + sum[j] - sum[i-1];
		if (ans == -1 || ans > temp)
			ans = temp;
	}
	return ans;
}
int main()
{
	cin >> T;
	for (int test = 0; test < T; test++)
	{
		memset(dp, 0, sizeof(dp));
		cin >> k;
		for (int i = 1; i <= k; i++)
		{
			cin >> arr[i];
			dp[i][i] = arr[i];
			sum[i] = sum[i - 1] + arr[i];
		}
		cout << go(1, k) << endl;
	}
	return 0;
}
